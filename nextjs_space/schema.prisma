// Esquema de base de datos para Fundación Muyu
// Tablas: donaciones y mensajes de contacto

generator client {
    provider = "prisma-client-js"
    binaryTargets = ["native", "debian-openssl-3.0.x"]
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

// Modelo para almacenar donaciones
model Donation {
  id          Int      @id @default(autoincrement())
  name        String   // Nombre del donante
  email       String   // Correo electrónico
  phone       String?  // Teléfono de contacto
  address     String?  // Dirección (opcional)
  city        String?  // Ciudad
  country     String   @default("Ecuador") // País
  amount      Float    // Monto de la donación
  currency    String   @default("USD") // Moneda
  message     String?  // Mensaje opcional del donante
  // anonymous   Boolean  @default(false) // Si desea ser anónimo - COMENTADO temporalmente
  status      String   @default("pending") // Estado: pending, completed, cancelled
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

// Modelo para mensajes de contacto (consultoría)
model ContactMessage {
  id           Int      @id @default(autoincrement())
  name         String   // Nombre del contacto
  email        String   // Correo electrónico
  company      String?  // Empresa u organización
  phone        String?  // Teléfono opcional
  serviceType  String   // Tipo de servicio de interés
  subject      String   // Asunto del mensaje
  message      String   // Contenido del mensaje
  status       String   @default("new") // Estado: new, read, responded, archived
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
}
